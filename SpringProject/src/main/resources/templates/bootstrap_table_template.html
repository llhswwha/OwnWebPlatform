<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="bootstrap/all.css">
    <link rel="stylesheet" href="bootstrap/bootstrap-table.min.css">
    <title>Hello, Bootstrap Table!</title>
</head>
<body>

<!--<table
        id="table2"
        data-toggle="table"
        data-toolbar="#toolbar"
        data-height="460"
        data-side-pagination="server"
        data-pagination="true"
        data-url="https://examples.wenzhixin.net.cn/examples/bootstrap_table/data">
    <thead>
    <tr>
        <th data-field="id">ID</th>
        <th data-field="name">Item Name</th>
        <th data-field="price">Item Price</th>
    </tr>
    </thead>
</table>-->

<div id="toolbar" class="form-inline">
    <input id="txtName" class="form-control" style="width: 120px" type="text" placeholder="昵称" data-name="name">
    <input id="txtLoginName" class="form-control" style="width: 120px" type="text" placeholder="登录名" data-name="loginName">
    <button id="btnSearch" class="btn btn-secondary">搜索</button>
    <button id="btnClearSearch" class="btn btn-secondary">清空</button>
</div>
<table id="table"
       data-toolbar="#toolbar"
       data-page-list="[10,20,30,40]"
       data-height="450"
></table>
<!-- jQuery first, then Popper.js, then Bootstrap JS, and then Bootstrap Table JS -->
<script src="bootstrap/jquery.min.js"></script>
<script src="bootstrap/popper.min.js"></script>
<script src="bootstrap/bootstrap.min.js"></script>
<script src="bootstrap/core.min.js"></script>
<script src="bootstrap/bootstrap-table.min.js"></script>
<script src="js/common/communicate.js"></script>
<script src="js/common/bootstrap-util.js"></script>
<script>
    function initTable(){
        var table=new EntityTable('#table','user');
        var columns=[{
            field: 'id',
            title: 'ID',
            sortable:true
        }, {
            field: 'name',
            title: '昵称',
            sortable:true
        }, {
            field: 'loginName',
            title: '登录名',
            sortable:true
        }, {
            field: 'password',
            title: '密码',
            sortable:true
        }];
        table.init(columns);
        table.load();
        return table;
    }
    var table=initTable();

    var $btnSearch = $('#btnSearch');
    var $txtLoginName = $('#txtLoginName');
    var $txtName = $('#txtName');
    var $btnClearSearch=$('#btnClearSearch');
    $btnSearch.click(function () {
        var map={};
        map['name']=$txtName.val();
        map['loginName']=$txtLoginName.val();
        table.search(map);
    })
    $btnClearSearch.click(function () {
        table.search(null);
    })
</script>

</body>
</html>